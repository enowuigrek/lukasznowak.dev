/* ═══════════════════════════════════════════
   VHS OVERLAY — scan lines + noise
   ═══════════════════════════════════════════ */

.vhs-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9998;
}

/* Scan lines — ciemne, jak oryginalne VHS */
.vhs-scanlines {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    to bottom,
    transparent 0px,
    transparent 2px,
    rgba(0, 0, 0, 0.15) 2px,
    rgba(0, 0, 0, 0.15) 4px
  );
  opacity: 0.07;
  animation: scanline-drift 10s linear infinite;
}

@keyframes scanline-drift {
  0% { background-position: 0 0; }
  100% { background-position: 0 200px; }
}

/* Noise — intensywniejsze */
.vhs-noise {
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  opacity: 0.045;
  mix-blend-mode: overlay;
  filter: url(#vhs-noise-filter);
  animation: noise-shift 0.5s steps(4) infinite;
}

@keyframes noise-shift {
  0% { transform: translate(0, 0); }
  25% { transform: translate(-5%, -5%); }
  50% { transform: translate(5%, -10%); }
  75% { transform: translate(-10%, 5%); }
  100% { transform: translate(0, 0); }
}

/* Flicker */
.vhs-flicker {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(232, 230, 227, 0.015);
  opacity: 0;
  animation: flicker 8s ease-in-out infinite;
}

@keyframes flicker {
  0%, 96%, 100% { opacity: 0; }
  97% { opacity: 1; }
  98% { opacity: 0; }
  99% { opacity: 0.5; }
}

/* Horizontal glitch bar */
.vhs-glitch-bar {
  position: absolute;
  left: 0;
  width: 100%;
  height: 2px;
  background: rgba(232, 230, 227, 0.1);
  opacity: 0;
  animation: glitch-bar 12s ease-in-out infinite;
}

@keyframes glitch-bar {
  0%, 90%, 100% {
    opacity: 0;
    top: 30%;
  }
  92% {
    opacity: 1;
    top: 30%;
  }
  94% {
    opacity: 0.5;
    top: 65%;
  }
  96% {
    opacity: 0;
    top: 65%;
  }
}

/* ═══════════════════════════════════════════
   CRT PHOSPHOR SCANLINES — na tle strony
   Jasne linie jak fosfor w starym CRT
   ═══════════════════════════════════════════ */

.crt-scanlines {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  background: repeating-linear-gradient(
    to bottom,
    transparent 0px,
    transparent 3px,
    rgba(232, 230, 227, 0.008) 3px,
    rgba(232, 230, 227, 0.008) 4px
  );
  animation: crt-drift 20s linear infinite;
}

@keyframes crt-drift {
  0% { background-position: 0 0; }
  100% { background-position: 0 400px; }
}

/* CRT vignette — ciemniejsze krawędzie jak stary TV */
.crt-vignette {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 2;
  background: radial-gradient(
    ellipse at center,
    transparent 60%,
    rgba(0, 0, 0, 0.15) 100%
  );
}

/* Ukryj na mobile (performance) */
@media (max-width: 768px) {
  .vhs-noise {
    display: none;
  }

  .crt-vignette {
    display: none;
  }
}
