/* ═══════════════════════════════════════════
   VHS OVERLAY — scan lines + noise
   ═══════════════════════════════════════════ */

.vhs-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9998;
}

/* Scan lines */
.vhs-scanlines {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    to bottom,
    transparent 0px,
    transparent 2px,
    rgba(0, 0, 0, 0.15) 2px,
    rgba(0, 0, 0, 0.15) 4px
  );
  opacity: 0.04;
  animation: scanline-drift 10s linear infinite;
}

@keyframes scanline-drift {
  0% { background-position: 0 0; }
  100% { background-position: 0 200px; }
}

/* Noise */
.vhs-noise {
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  opacity: 0.025;
  mix-blend-mode: overlay;
  filter: url(#vhs-noise-filter);
  animation: noise-shift 0.5s steps(4) infinite;
}

@keyframes noise-shift {
  0% { transform: translate(0, 0); }
  25% { transform: translate(-5%, -5%); }
  50% { transform: translate(5%, -10%); }
  75% { transform: translate(-10%, 5%); }
  100% { transform: translate(0, 0); }
}

/* Flicker — losowy, subtelny */
.vhs-flicker {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(232, 230, 227, 0.01);
  opacity: 0;
  animation: flicker 8s ease-in-out infinite;
}

@keyframes flicker {
  0%, 96%, 100% { opacity: 0; }
  97% { opacity: 1; }
  98% { opacity: 0; }
  99% { opacity: 0.5; }
}

/* Horizontal glitch bar — rzadki */
.vhs-glitch-bar {
  position: absolute;
  left: 0;
  width: 100%;
  height: 2px;
  background: rgba(232, 230, 227, 0.08);
  opacity: 0;
  animation: glitch-bar 12s ease-in-out infinite;
}

@keyframes glitch-bar {
  0%, 90%, 100% {
    opacity: 0;
    top: 30%;
  }
  92% {
    opacity: 1;
    top: 30%;
  }
  94% {
    opacity: 0.5;
    top: 65%;
  }
  96% {
    opacity: 0;
    top: 65%;
  }
}

/* Ukryj na mobile (performance) */
@media (max-width: 768px) {
  .vhs-noise {
    display: none;
  }
}
